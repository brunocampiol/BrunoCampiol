"use strict";function chudnovsky(n){function i(n){let t=2,i=new Decimal(1);for(t;t<=n;i=i.times(t++));return i}importScripts("../lib/decimal/decimal.min.js");Decimal.precision=n+2;let r=n/14.181647462725477+1,s=new Decimal(13591409),h=new Decimal(545140134),c=new Decimal(-640320),u,f,t=new Decimal(0),e=Math.ceil(r),o=1,l=Math.ceil(n/e);for(let a=0;a<r;a++){u=i(6*a).times(s.plus(h.times(a)));f=i(3*a).times(i(a).pow(3)).times(c.pow(3*a));t=t.plus(u.div(f));let r=Decimal.sqrt(10005).times(426880).div(t).toSD(o).toString(),v="Calculating PI for "+n+" digits... "+a+" of "+e+" iterations. <br/><br/> "+r;o+=l;self.postMessage({PiValue:v})}self.postMessage({PiValue:Decimal.sqrt(10005).times(426880).div(t).toSD(n).toString()})}self.onmessage=function(n){chudnovsky(n.data.value)};